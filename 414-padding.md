# 4.1.4 padding

> padding是基础的卷积操作

---

## 卷积运算矩阵阶数关系

分别有矩阵$$A_{a*a}$$，矩阵$$B_{b*b}$$，令$$C_{c*c}=A*B$$[^1]则$$c=a-b+1$$

---

## 卷积的缺点

1. 每次进行卷积操作时，输出的结果都会比原图像小，极端情况下对一图像连续进行卷积运算时，图像会缩小到$$1*1$$。
2. 在卷积运算中，矩阵中心的点会比边缘的点更多的参与卷积运算,顶点仅仅参与了一次运算。

观察下图就可看见这两个缺点

![](/assets/414/convolve.gif)

鉴于卷积有以上两个缺点，所以我们在卷积之前会进行一步操作，padding。

---

## padding

在对一个矩阵进行卷积操作之前，我们先在它周围填充一圈像素（一般是0，其实也可以填充多层像素），再进行卷积，这样可克服上文提到的两个缺点。下图展示了padding的过程

![](/assets/414/padding.png)图中绿色矩阵A是6\*6的矩阵,在进行卷积操作前,在A矩阵周围填充一圈0像素，使A变为8\*8的矩阵B，根据卷积运算矩阵阶数关系，8阶矩阵与3阶过滤器进行卷积操作后，会得一个6\*6的矩阵。这样我们就解决了之前提到的两个问题。

---

## valid卷积和same卷积

1. valid卷积即是不使用padding的卷积，意味着卷积之后得到的矩阵会减小。
2. same卷积即是使用padding的卷积，卷积前后端矩阵阶数相同，所以称之为“same”。



[^1]: A卷积B，而不是乘法

