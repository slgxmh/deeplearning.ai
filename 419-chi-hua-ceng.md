# 4.1.9 池化层

> 池化层是减小CNN运算量的重要方法

---

## 最大池化（Max Pooling）

最大池化是将一个结果矩阵平均分为若干个部分，取每个部分的最大值的方法，示例如下：

![](/assets/419/MaxPooling.png)

* 给出一个$$4*4$$的矩阵，在进行池化操作前，将这个矩阵平均分为四个$$2*2$$的矩阵
* 将每一个$$2*2$$的矩阵的最大值提取出来，组成一个新的$$2*2$$的矩阵

如上图，将每个颜色的矩阵的最大值，取出来，就得到了新的矩阵，这个操作就叫做最大池化。

在上图$$4*4$$的矩阵中，某个数字大意味着可能提取到了某些特定特征，最大池化的功能就是在如果提取到了某些特征，那么保留他的最大值，及保留下这个特征。

## 平均池化

平均池化的操作与最大池化差不多，仍然是先分块。只不过是把取最大值的操作变成了求平均值，操作如下图：

![](/assets/419/AveragePooling.png)

需要说明的是，在卷子积分神经网络中，最大池化的使用频率远远高于平均池化，因为最大池化可以比较好的保留图像的特征。

## 池化层的相关参数

### 超级参数：
* f：过滤器大小
* s：步长

输入与输出的计算公式与之前的是一样的，若输入是一个$$n_{h}*n_{w}*n_{c}$$的矩阵，则对应的输出为$$n^{[l]}=\frac{n^{[l]}-f^{[l]}}{s^{[l]}}+1$$，输出矩阵的高（h）,宽（w）以及通道数（c）都可以用上述公式算出来

